(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1188:function(t,e,n){"use strict";n(874)},1189:function(t,e,n){(e=n(58)(!1)).push([t.i,'.center-cropped[data-v-fd97ff9c]{width:10rem;height:10rem;background-position:50%;background-repeat:no-repeat;overflow:hidden}.center-cropped img[data-v-fd97ff9c]{min-height:100%;min-width:100%;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";filter:alpha(opacity=100);opacity:1}',""]),t.exports=e},1213:function(t,e,n){"use strict";n.r(e);n(29),n(70),n(60),n(127),n(40),n(55),n(186),n(187),n(157),n(9),n(128),n(41),n(69),n(42);var r=n(120),c=n(130),o=(n(47),n(3));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={data:function(){return{account:{name:this.$route.params.name},selectedNftSource:null,loadingNFTs:!0,nfts:[],dataAssets:null,accountAssets:null,resolvedAccountAssets:null}},computed:{nft:function(){return""},wallet:function(){return this.$wallet?this.$wallet.wallet:null}},created:function(){this.getNFTs()},methods:{getNFTs:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,l,m,f,v,h,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingNFTs=!0,e.prev=1,e.next=4,t.$eos.rpc.get_table_rows({code:"theeffectdao",scope:"theeffectdao",table:"config",limit:1});case 4:return n=e.sent,r=n.rows,l=Object(c.a)(r,1),m=l[0],f=m.allowed_collections,e.next=10,t.$atomic.getAccountAssets(t.account.name);case 10:return v=e.sent,t.accountAssets=v,e.next=14,Promise.all(v.map(function(){var t=Object(o.a)(regeneratorRuntime.mark((function t(e){var n,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collection();case 2:if(n=t.sent,!f.includes(n.name)){t.next=8;break}return t.next=6,e.data();case 6:return data=t.sent,t.abrupt("return",d(d({},e),{},{data:data,collection:n,asset_link:"https://eos.atomichub.io/explorer/asset/".concat(e.id),asset_media:"https://atomichub-ipfs.com/ipfs/".concat((null==data?void 0:data.img)||(null==data?void 0:data.video)),asset_type:(null==data?void 0:data.img)?"image":"video"}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 14:h=e.sent,w=h.filter((function(t){return t})),t.dataAssets=w,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.error(e.t0);case 22:t.loadingNFTs=!1;case 23:case"end":return e.stop()}}),e,null,[[1,19]])})))()},setPlaceHolder:function(t){this.selectedNftSource="https://ui-avatars.com/api/?name=".concat(this.account.name,"&size=100")},setAvatarTx:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[{account:"theeffectdao",name:"setavatar",authorization:[{actor:e.account.name,permission:e.wallet.auth.permission}],data:{account:e.account.name,asset_id:t.id}}],n.prev=1,n.next=4,e.$wallet.handleTransaction(r);case 4:e.success=!0,e.$modal.show({color:"success",title:"Transaction Sent",persistent:!0,text:"Setting avatar picture! It might take a minute to update.",cancel:!1,onConfirm:function(){location.reload(!0)}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e.$modal.show({color:"danger",title:"Error",persistent:!0,text:n.t0});case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}}},f=(n(1188),n(25)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt-5"},[n("div",[n("div",{staticClass:"box"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-image"},[n("figure",{staticClass:"image"},[n("Avatar",{attrs:{"account-name":t.account.name}})],1)]),t._v(" "),n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content has-text-centered"},[n("p",{staticClass:"title is-5"},[t._v("\n                "+t._s(t.account.name)+"\n              ")])])])])]),t._v(" "),n("hr"),t._v(" "),t.loadingNFTs?n("div",{staticClass:"has-text-centered is-loading"},[t._v("\n        Loading NFTs...\n      ")]):n("div",[n("div",{staticClass:"columns is-multiline is-centered is-vcentered"},t._l(t.dataAssets,(function(e){return n("div",{key:e.id,staticClass:"column is-4 p-1 py-2 has-text-centered is-flex-direction-column is-align-self-stretch"},[n("div",{staticClass:"card is-flex-direction-column is-align-self-stretch",staticStyle:{height:"100%",display:"flex","flex-direction":"column"}},[n("div",{staticClass:"card-image has-background-image has-radius center-cropped",staticStyle:{margin:"auto","background-position":"center center","background-repeat":"no-repeat"}},[e&&e.data&&e.data.img?n("figure",{staticClass:"pt-4"},[n("img",{staticClass:"is-centered mx-auto",attrs:{src:e.asset_media,alt:"Placeholder image"}})]):e&&e.data&&e.data.video?n("figure",{staticClass:"pt-4"},[n("video",{attrs:{src:e.asset_media,autoplay:"",loop:"",muted:"",playsinline:"true"},domProps:{muted:!0}})]):n("figure",{staticClass:"pt-4"},[n("img",{attrs:{src:"https://bulma.io/images/placeholders/1280x960.png",alt:"Placeholder image"}})])]),t._v(" "),n("div",{staticClass:"card-content"},[n("div",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("p",{staticClass:"title is-5"},[t._v("\n                      "+t._s(e.name)+"\n                    ")]),t._v(" "),n("p",{staticClass:"subtitle is-size-7"},[t._v("\n                      "+t._s(e.name)+"\n                    ")])])]),t._v(" "),n("div",{staticClass:"content"},[n("p",[t._v(t._s(e.description))]),t._v(" "),n("p",[n("a",{attrs:{href:e.asset_link,target:"_blank",rel:"noopener noreferrer"}},[n("span",{staticClass:"icon"},[n("font-awesome-icon",{attrs:{icon:["fas","external-link-alt"]}})],1),t._v("\n                      AtomicHub\n                    ")])])])]),t._v(" "),n("footer",{staticClass:"card-footer",staticStyle:{"margin-top":"auto"}},[n("button",{staticClass:"button card-footer-item m-3",on:{click:function(n){return n.preventDefault(),t.setAvatarTx(e)}}},[n("span",{staticClass:"icon is-small"},[n("font-awesome-icon",{attrs:{icon:["fas","edit"]}})],1),t._v(" "),n("span",[t._v("Set as Avatar")])])])])])})),0)])])])])}),[],!1,null,"fd97ff9c",null);e.default=component.exports;installComponents(component,{Avatar:n(727).default,Footer:n(188).default})},727:function(t,e,n){"use strict";n.r(e);var r=n(130),c=(n(47),n(3)),o={props:{accountName:{type:String,required:!0}},data:function(){return{imgsrc:null,isLoading:!1}},computed:{avatar_src:function(){return this.imgsrc||"https://ui-avatars.com/api/?name=".concat(this.accountName,"&size=100")}},created:function(){this.getCurrentAvatar()},methods:{fallbackAvatar:function(t){t.target.src="https://ui-avatars.com/api/?name=".concat(this.accountName,"&size=100")},getCurrentAvatar:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,c,o,l,d,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n={json:!0,code:"theeffectdao",scope:t.accountName,table:"avatar",limit:1},e.next=5,t.$eos.rpc.get_table_rows(n);case 5:if(!((c=e.sent).rows&&c.rows.length>0)){e.next=28;break}return o=Object(r.a)(c.rows,1),l=o[0],d=l.asset_id,e.next=11,t.$atomic.getAsset(t.accountName,d);case 11:return m=e.sent,e.next=14,m.data();case 14:if(!(f=e.sent)){e.next=27;break}if(!f.img){e.next=20;break}t.imgsrc="https://atomichub-ipfs.com/ipfs/".concat(f.img),e.next=25;break;case 20:if(!f.video){e.next=24;break}t.imgsrc="https://atomichub-ipfs.com/ipfs/".concat(f.video),e.next=25;break;case 24:throw new Error("Asset has no image or video");case 25:e.next=28;break;case 27:throw new Error("Error retrieving asset");case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(1),console.error(e.t0);case 33:t.loading=!1;case 34:case"end":return e.stop()}}),e,null,[[1,30]])})))()}}},l=n(25),component=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("img",{attrs:{src:this.avatar_src,alt:"Atomic Asset NFT"}})}),[],!1,null,null,null);e.default=component.exports},874:function(t,e,n){var content=n(1189);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("36f3ed16",content,!0,{sourceMap:!1})}}]);